FROM node:18-alpine

WORKDIR /app

# Copiamos primero los archivos necesarios para instalar dependencias
COPY ./conf/package*.json ./
RUN npm install
RUN npm install google-auth-library

# Copiamos el resto del c√≥digo
COPY ./conf ./

# Compilamos el TypeScript
RUN npm run build

EXPOSE 4000

CMD ["npm", "start"]
